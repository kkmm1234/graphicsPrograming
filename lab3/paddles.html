<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Paddle Game</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas"></canvas>
  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    // Paddle properties
    const paddleWidth = 100;
    const paddleHeight = 20;
    let paddleX = (canvas.width - paddleWidth) / 2;
    const paddleY = canvas.height - paddleHeight - 10;
    let paddleSpeed = 5;

    // Mouse controls
    let mouseX = 0;

    // Arrow key controls
    let rightPressed = false;
    let leftPressed = false;

    // Event listeners for arrow keys
    document.addEventListener("keydown", keyDownHandler);
    document.addEventListener("keyup", keyUpHandler);

    function keyDownHandler(e) {
      if (e.key === "ArrowRight" || e.key === "Right" || e.key === "d" || e.keyCode === 39) {
        rightPressed = true;
      } else if (e.key === "ArrowLeft" || e.key === "Left" || e.key === "a" || e.keyCode === 37) {
        leftPressed = true;
      }
    }

    function keyUpHandler(e) {
      if (e.key === "ArrowRight" || e.key === "Right" || e.key === "d" || e.keyCode === 39) {
        rightPressed = false;
      } else if (e.key === "ArrowLeft" || e.key === "Left" || e.key === "a" || e.keyCode === 37) {
        leftPressed = false;
      }
    }

    // Event listener for mouse movement
    document.addEventListener("mousemove", mouseMoveHandler);

    function mouseMoveHandler(e) {
      const relativeX = e.clientX - canvas.offsetLeft;
      if (relativeX > 0 && relativeX < canvas.width) {
        mouseX = relativeX;
      }
    }

    function drawPaddle() {
      ctx.beginPath();
      ctx.rect(paddleX, paddleY, paddleWidth, paddleHeight);
      ctx.fillStyle = "blue";
      ctx.fill();
      ctx.closePath();
    }

    function updatePaddlePosition() {
      if (rightPressed && paddleX + paddleWidth < canvas.width) {
        paddleX += paddleSpeed;
      }
      if (leftPressed && paddleX > 0) {
        paddleX -= paddleSpeed;
      }
      if (mouseX - paddleWidth / 2 > 0 && mouseX + paddleWidth / 2 < canvas.width) {
        paddleX = mouseX - paddleWidth / 2;
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawPaddle();
      updatePaddlePosition();
      requestAnimationFrame(draw);
    }

    draw();
  </script>
</body>
</html>
